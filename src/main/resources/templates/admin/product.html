<!DOCTYPE html>
<html  lang="en" xmlns:th="http://www.thymeLeaf.org" th:replace="~{base::Layout(~{::section})}">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="/css/style.css">

</head>
<body>
<section>
	<div class="container mt-5 p-5">
		 
			<div class="card card-sh">
			
				<div class="card-header">
				
				<p class="fs-4 text-center">View products</p>
				<th:block 	th:if="${session.successMsg}">
				<p class="text-center text-success fw-bold">[[${session.successMsg}]]</p>
				<th:block th:text="${@commonServiceImpl.removeSessionMessage()}"></th:block>
				
			</th:block>
			
			<th:block 	th:if="${session.errorMsg}">
				<p class="text-danger fw-bold">[[${session.errorMsg}]]</p>
				<th:block th:text="${@commonServiceImpl.removeSessionMessage()}"></th:block>
			</th:block>
				
				</div>
				<div class="card-body">
						<table class="table">
					  <thead>
					    <tr>
					      <th scope="col">sl. no.</th>
					       <th scope="col">Image</th>
					      <th scope="col">Title</th>
					      <th scope="col">Category</th>
					      <th scope="col">Price</th>
					    	<th scope="col">Discount</th>
					    	<th scope="col">Discount Price</th>
					       <th scope="col">Stock</th>
					       <th scope="col">Status</th>
					        <th scope="col">Action</th>
					    </tr>
					  </thead>
					  <tbody>
					    <tr th:each="p,c:${products}">
					      <th scope="row">[[${c.count}]]</th>
					      <td><img th:src="@{'/img/product_img/'+${p.image}}" width="50px" height="50px"></img></td>
					      <td>[[${p.title}]]</td>
					      <td>[[${p.category}]]</td>
					      <td>[[${p.price}]]</td>
					      <td>[[${p.discount}]]</td>
					      <td>[[${p.discountPrice}]]</td>
					      
					      <td>[[${p.stock}]]</td>
					      <td>[[${p.isActive}]]</td>
					      
					      <td>
					      <a th:href="@{'/Admin/editProduct/'+${p.id}}" class="btn btn-primary"><i class="fa-solid fa-pen-to-square "></i>Edit</a>
					      <a th:href="@{'/Admin/deleteProduct/'+${p.id}}" class="btn btn-danger"><i class="fa-solid fa-trash "></i>Delete</a>
					      
					      </td>
					     
					      
					    </tr>
					   
					  </tbody>
					</table>
				</div>
			
			</div>
		</div>
	

</section>

</body>
</html>